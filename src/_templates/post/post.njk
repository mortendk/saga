---
layout: layout/default.njk
saga-template-name: Post Default
---

<footer>
  {# Author #}
  {% if author %}
    {% for item in collections.all |  getPage("/authors/" + author + "/" ) %}
      <div class="bg-gray-100">
        <div>Author : {{ item.data.title}}</div>
      </div>
    {% endfor %}
  {% endif %}
  {# /Author #}

  {% if date %}
    <time>{{ date | monthDayYear }}</time>
  {% endif %}

  {# Tags #}
  <div>
  {%- for tag in tags | filterTagList -%}
    {# grap the markdown files and loop through them #}
    {% for item in collections.all |  getPage("/relation-tag/" + tag + "/" ) %}
      <a href="/tag/{{ tag }}">{{ item.data.title}}</a>,
    {% endfor %}
  {% endfor %}
  {# /Tags #}
  </div>
</footer>

<div>
  {{ content | safe }}
</div>

{# image gallery #}
{% for item in gallery %}
<figure>
  {% set img =  "src/" + item.image.image  %}
  {% imageResize img, item.image.title, "(min-width: 30em) 50vw, 100vw" %}
  <figcaption>{{ item.image.figcaption | safe }}</figcaption>
</figure>
{% endfor %}

{# image #}
{% if image %}
  {% set img =  "src/" + image %}
  {% set alt = "Image of " + title %}
  {% set css = "border-4 border-red-400" %}
  {% imageResize img, alt, "(min-width: 30em) 50vw, 100vw", css %}
{% endif %}

<hr>


{# Previous and next post #}

<nav class="bg-red-400">
{%- if collections.allPosts %}
  {%- set nextPost = collections.allPosts | getNextCollectionItem(page) %}
  {%- set previousPost = collections.allPosts | getPreviousCollectionItem(page) %}
  {%- if nextPost or previousPost %}

    {%- if previousPost %}
      Previous: <a href="{{ previousPost.url | url }}">{{ previousPost.data.title }}</a>
    {% endif %}

    {%- if nextPost %}
      Next: <a href="{{ nextPost.url | url }}">{{ nextPost.data.title }}</a>
    {% endif %}

  {%- endif %}
{%- endif %}
</nav>

<div class="bg-blue-100">
<div class="text-2xl">All post</div>
{% for item in collections.allPosts %}
  {% if item.url in page.url %} ! {%- endif %}
   - <a href="{{ item.url }}" title="{{item.data.title}}">{{item.data.title}}</a> <br>

{% endfor %}
</div>
